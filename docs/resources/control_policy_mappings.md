---
page_title: "cm_control_policy_mappings Resource - terraform-provider-cm"
subcategory: ""
description: |-
  Creates, updates and destroys control policy mappings.
---

# cm_control_policy_mappings (Resource)

Creates, updates and destroys control policy mappings.

## Example Usage
```terraform
resource "cm_control_policy_mappings" "no_public_bucket_prod" {
  control_policy_id = cm_control_policy.control_policy.id

  targets = [
    {
      target_id         = cm_namespace.namespace.id
      target_type       = "namespace"
      enforcement_level = "hardMandatory"
    },
    {
      target_id         = cm_stack.stack.id
      target_type       = "stack"
      enforcement_level = "softMandatory"
    },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `control_policy_id` (String) The unique ID of the control policy.

### Optional

- `targets` (Attributes Set) List of targets (see [below for nested schema](#nestedatt--targets))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--targets"></a>
### Nested Schema for `targets`

Required:

- `enforcement_level` (String) Specifies the level of enforcement for the control policy on the target. Allowed values: [warning, softMandatory, hardMandatory]. When set to `softMandatory`, a policy failure triggers an approval requirement before applying changes. When set to `hardMandatory`, changes cannot be applied until the policy check is successful.
- `target_id` (String) The unique ID corresponds to the `target_type` in the mapping.
- `target_type` (String) The type of the target. Allowed values: [stack, namespace].

## Import

`cm_control_policy_mappings` can be imported using the ID of the Control Policy, e.g.

```shell
terraform import cm_control_policy_mappings.mappings pol-123
```